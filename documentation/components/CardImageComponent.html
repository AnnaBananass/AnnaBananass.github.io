<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>medcom-brannskador documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">medcom-brannskador documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>CardImageComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/shared/cards/card-image/card-image.component.ts</code>
</p>

    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>A component for selecting, previewing and deleteing images before upload</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-card-image</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./card-image.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./card-image.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_album">_album</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#_lightbox">_lightbox</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#dataService">dataService</a>
                            </li>
                            <li>
                                <a href="#image">image</a>
                            </li>
                            <li>
                                <a href="#imageCounter">imageCounter</a>
                            </li>
                            <li>
                                <a href="#imagePreview">imagePreview</a>
                            </li>
                            <li>
                                <a href="#imagesAvailable">imagesAvailable</a>
                            </li>
                            <li>
                                <a href="#src">src</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#addImage">addImage</a>
                            </li>
                            <li>
                                <a href="#enlargeImage">enlargeImage</a>
                            </li>
                            <li>
                                <a href="#loadImages">loadImages</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#openFileSelect">openFileSelect</a>
                            </li>
                            <li>
                                <a href="#removeImage">removeImage</a>
                            </li>
                            <li>
                                <a href="#saveImageToCase">saveImageToCase</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#isValid">isValid</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Outputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#imageUploaded">imageUploaded</a>
                            </li>
                        </ul>
                    </td>
                </tr>



        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(dataService: <a href="../injectables/CaseDataService.html">CaseDataService</a>, _lightbox: Lightbox)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:28</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Creates an instance of CaseDataService and a private instance of Lightbox
Sets imagepreview to an array
Loads images if there are any stored in the Case</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>dataService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/CaseDataService.html" target="_self" >CaseDataService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_lightbox</td>
                                                  
                                                        <td>
                                                                    <code>Lightbox</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isValid"></a>
                        <b>isValid</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:26</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>
    <section>
    <h3 id="outputs">Outputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="imageUploaded"></a>
                        <b>imageUploaded</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://angular.io/api/core/EventEmitter" target="_blank" >EventEmitter</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:28</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>


    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addImage"></a>
                    <span class="name">
                        <b>
                            addImage
                        </b>
                        <a href="#addImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addImage()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="100"
                            class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:100</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>A method responsible for previewing selected images.
The method converts a selected image to a string that is readable as an image by the HTML
The method also adds the image to the Lightbox gallery so they can be enlarged</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="enlargeImage"></a>
                    <span class="name">
                        <b>
                            enlargeImage
                        </b>
                        <a href="#enlargeImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>enlargeImage(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="147"
                            class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:147</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>This method is called when clicking on an image to show an enlarged version over the rest of the page.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadImages"></a>
                    <span class="name">
                        <b>
                            loadImages
                        </b>
                        <a href="#loadImages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadImages()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="121"
                            class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:121</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>A method responsible for previewing selected images.
This method loads all images from the Image array in Case Data and add them to the HTML. Used when navigating back from
summary to the frontpage to correctly display the images. It is also used when removing an image from the preview to reload all
remaining images correctly.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="151"
                            class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:151</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openFileSelect"></a>
                    <span class="name">
                        <b>
                            openFileSelect
                        </b>
                        <a href="#openFileSelect"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openFileSelect()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="89"
                            class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:89</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method to open the file select dialog. The method is called from a button in the HTML</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeImage"></a>
                    <span class="name">
                        <b>
                            removeImage
                        </b>
                        <a href="#removeImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeImage(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="79"
                            class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:79</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Removes the selected image from the Case and the local array _album that is responsible for enlarging the images
with Lightbox</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="saveImageToCase"></a>
                    <span class="name">
                        <b>
                            saveImageToCase
                        </b>
                        <a href="#saveImageToCase"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>saveImageToCase(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="51"
                            class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:51</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>This method is called when an image is choosen in the file select dialog in the browser.
The method stores the images in CaseDataService.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_album"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _album</b>
                            <a href="#_album"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:24</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_lightbox"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            _lightbox</b>
                            <a href="#_lightbox"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Lightbox</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:35</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="dataService"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            dataService</b>
                            <a href="#dataService"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../injectables/CaseDataService.html" target="_self" >CaseDataService</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:35</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="image"></a>
                        <span class="name">
                            <b>
                            image</b>
                            <a href="#image"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/Image.html" target="_self" >Image</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:40</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="imageCounter"></a>
                        <span class="name">
                            <b>
                            imageCounter</b>
                            <a href="#imageCounter"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>this.dataService.getCase().images.length -1</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:42</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="imagePreview"></a>
                        <span class="name">
                            <b>
                            imagePreview</b>
                            <a href="#imagePreview"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:41</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="imagesAvailable"></a>
                        <span class="name">
                            <b>
                            imagesAvailable</b>
                            <a href="#imagesAvailable"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:43</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="src"></a>
                        <span class="name">
                            <b>
                            src</b>
                            <a href="#src"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">src/app/shared/cards/card-image/card-image.component.ts:44</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, Input, Output, EventEmitter } from &#x27;@angular/core&#x27;;
import { CaseDataService } from &#x27;../../case-data.service&#x27;;
import { Case } from &#x27;app/models/case&#x27;;
import { Image } from &#x27;app/models/image&#x27;;
import { HttpService } from &#x27;app/shared/http.service&#x27;;
import { Lightbox } from &#x27;ngx-lightbox&#x27;;

/**
 * A component for selecting, previewing and deleteing images before upload
 */
@Component({
  selector: &#x27;app-card-image&#x27;,
  templateUrl: &#x27;./card-image.component.html&#x27;,
  styleUrls: [&#x27;./card-image.component.scss&#x27;]
})

export class CardImageComponent implements OnInit {
  private _album: any &#x3D; [];
    // recieves from card-image if the form has valid values
  @Input() isValid: boolean;
  // communicates if images are uploaded or not
  @Output() imageUploaded &#x3D; new EventEmitter&lt;boolean&gt;();

/**
 * Creates an instance of CaseDataService and a private instance of Lightbox
 * Sets imagepreview to an array
 * Loads images if there are any stored in the Case
 */
  constructor(public dataService: CaseDataService, public _lightbox: Lightbox) {
    this.imagePreview &#x3D; [];
    this.loadImages();
   }

 image : Image;
 imagePreview: any;
 imageCounter &#x3D; this.dataService.getCase().images.length -1;
 imagesAvailable &#x3D; false;
 src: any;

/**
 * This method is called when an image is choosen in the file select dialog in the browser.
 * The method stores the images in CaseDataService.
 * @param {event} This is the file that is selected in the file select dialog
 */
saveImageToCase(event){
  //4194304 bytes &#x3D; 4mb
  if(event.target.files[0].size &gt; 4194304) {
    alert(&quot;The size of the image exceeds the allowed limit of 4 megabytes.&quot;);
    return;
  }

  if(this.dataService.getCase().images.length &gt; 5) {
    alert(&quot;Only 6 images are allowed to be uploaded for each case. Remove one of the existing images before adding another image.&quot;);
    return;
  }

  this.image &#x3D; new Image;
  this.image.file &#x3D; event.target.files[0];

  this.dataService.getCase().images.push(this.image);

  // send to parent if image is uploaded
  this.imageUploaded.emit(this.imagesAvailable)

  this.addImage();
}

/**
 * Removes the selected image from the Case and the local array _album that is responsible for enlarging the images
 * with Lightbox
 * @param {number} This is the index in the Case image array of the image that is to be deleted
 */
removeImage(index: number){
  this.dataService.getCase().images.splice(index, 1);
  this._album.splice(index, 1);
  this.loadImages();
  this.imageCounter--;
}

/**
 * Method to open the file select dialog. The method is called from a button in the HTML
 */
openFileSelect() {
  let element: HTMLElement &#x3D; document.getElementsByClassName(&#x27;upload-input&#x27;)[0] as HTMLElement;
  element.click();
  console.log(this.imagesAvailable)
}

/**
 * A method responsible for previewing selected images.
 * The method converts a selected image to a string that is readable as an image by the HTML
 * The method also adds the image to the Lightbox gallery so they can be enlarged
 */
addImage() {
    this.imageCounter++;
    const reader &#x3D; new FileReader();
    reader.onload &#x3D; () &#x3D;&gt; {
    this.imagePreview[this.imageCounter] &#x3D; reader.result;
    this.src &#x3D; reader.result;
    const album &#x3D; {
      src: this.src
   };

   this._album.push(album);
    };
    reader.readAsDataURL(this.dataService.getCase().images[this.imageCounter].file);
}

/**
 * A method responsible for previewing selected images.
 * This method loads all images from the Image array in Case Data and add them to the HTML. Used when navigating back from
 * summary to the frontpage to correctly display the images. It is also used when removing an image from the preview to reload all
 * remaining images correctly.
 */
loadImages() {
    this.imagePreview &#x3D; [];
    this._album &#x3D; [];
    for (let i &#x3D; 0; i &lt; this.dataService.getCase().images.length; i++) {
      const reader &#x3D; new FileReader();
      reader.onload &#x3D; () &#x3D;&gt; {
      this.imagePreview[i] &#x3D; reader.result;
      this.src &#x3D; reader.result;
      const album &#x3D; {
      src: this.src
      };

      this._album.push(album);
      };
      reader.readAsDataURL(this.dataService.getCase().images[i].file);


    }
}

/**
 * This method is called when clicking on an image to show an enlarged version over the rest of the page.
 * @param {number} This is the index in the _album array where the image is stored. The variable is used so that the lightbox
 * knows which image to display.
 *
 */
enlargeImage(index: number): void {
  this._lightbox.open(this._album, index);
}

  ngOnInit() {
  }

}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;!-- 
This is an sample page to illustrate, each new &quot;page&quot; will have a new folder for instance &quot;startsida&quot;, &quot;upload image&quot; and so on 
--&gt;
&lt;div class&#x3D;&quot;row&quot; style&#x3D;&quot;margin-top:30px&quot;&gt;
    &lt;div class&#x3D;&quot;col-md-12&quot;&gt;
        &lt;div class&#x3D;&quot;card&quot;&gt;
            &lt;div class&#x3D;&quot;card-header&quot;&gt;
                &lt;h5 class&#x3D;&quot;card-title&quot;&gt;Ladda upp bild&lt;/h5&gt;
                &lt;p class&#x3D;&quot;card-description&quot;&gt;Beskrivning&lt;/p&gt;
            &lt;/div&gt;
            
            &lt;div class&#x3D;&quot;card-body&quot;&gt;
                &lt;section&gt;
                   
                    &lt;div class&#x3D;&quot;container&quot;&gt;
                        &lt;div class&#x3D;&quot;row&quot;&gt;
                          &lt;div *ngFor&#x3D;&quot;let image of imagePreview; let i&#x3D;index;&quot; class&#x3D;&quot;col-sm image-preview&quot;&gt;
                            &lt;img [src]&#x3D;&quot;image&quot; (click)&#x3D;&quot;enlargeImage(i)&quot;&gt;
                            &lt;div class&#x3D;&quot;remove-button&quot; (click)&#x3D;&quot;removeImage(i)&quot;&gt;X&lt;/div&gt;
                          &lt;/div&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                    
                &lt;/section&gt;
      
            &lt;/div&gt;
                &lt;div class&#x3D;&quot;update ml-auto mr-auto btn-on-card&quot;&gt;
                    &lt;button type&#x3D;&quot;submit&quot; class&#x3D;&quot;btn btn-info  btn-round&quot; [disabled]&#x3D;&quot;!isValid&quot; (click)&#x3D;&quot;openFileSelect()&quot; &gt;
                        &lt;i class&#x3D;&quot;nc-icon circle-icon nc-ruler-pencil&quot;&gt;&lt;/i&gt;
                        &lt;input style&#x3D;&quot;display: none&quot; type&#x3D;&quot;file&quot; (change)&#x3D;&quot;saveImageToCase($event)&quot; class&#x3D;&quot;upload-input&quot; #selectFile&gt;
                        &lt;span [hidden]&#x3D;&quot;!imagesAvailable&quot;&gt;Välj fler bilder&lt;/span&gt;
                        &lt;span [hidden]&#x3D;&quot;imagesAvailable&quot;&gt;Välj bild&lt;/span&gt;
                    &lt;/button&gt;
                &lt;/div&gt;

        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./card-image.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.image {
    width: 100%;
    height: 170px;
    background-size: cover;
    background-position: center;

}
img {
    object-fit: cover;
    width: 100%;
    height: 150px;
    background-size: cover;
    background-position: center;

}
img:hover {
    cursor: pointer;
    opacity: 0.7;
    background-color: black;
}
.image-preview {
    padding-left: 8px;
    padding-right: 8px;
    padding-bottom: 8px !important;
    min-width: calc(50%) !important;
}
.remove-button {
    position: absolute;
    top: -5px;
    right: 0;
    width: 25px;
    height: 25px;
    z-index: 10;
    cursor: pointer;
    background: linear-gradient(60deg, #ef5350, #e53935);
    border-radius: 50%;
    text-align: center;
    line-height: 25px;
    color: white;
    font-weight: bold;
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><!-- This is an sample page to illustrate, each new "page" will have a new folder for instance "startsida", "upload image" and so on --><div class="row" style="margin-top:30px">    <div class="col-md-12">        <div class="card">            <div class="card-header">                <h5 class="card-title">Ladda upp bild</h5>                <p class="card-description">Beskrivning</p>            </div>                        <div class="card-body">                <section>                                       <div class="container">                        <div class="row">                          <div *ngFor="let image of imagePreview; let i=index;" class="col-sm image-preview">                            <img [src]="image" (click)="enlargeImage(i)">                            <div class="remove-button" (click)="removeImage(i)">X</div>                          </div>                        </div>                      </div>                                    </section>                  </div>                <div class="update ml-auto mr-auto btn-on-card">                    <button type="submit" class="btn btn-info  btn-round" [disabled]="!isValid" (click)="openFileSelect()" >                        <i class="nc-icon circle-icon nc-ruler-pencil"></i>                        <input style="display: none" type="file" (change)="saveImageToCase($event)" class="upload-input" #selectFile>                        <span [hidden]="!imagesAvailable">Välj fler bilder</span>                        <span [hidden]="imagesAvailable">Välj bild</span>                    </button>                </div>        </div>    </div></div></div>'
    var COMPONENTS = [{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'CardConfirmationComponent', 'selector': 'app-card-confirmation'},{'name': 'CardDefaultComponent', 'selector': 'app-card-default'},{'name': 'CardFormComponent', 'selector': 'app-card-form'},{'name': 'CardFormFetchCaseComponent', 'selector': 'app-card-form-fetch-case'},{'name': 'CardImageComponent', 'selector': 'app-card-image'},{'name': 'CardPatientDataComponent', 'selector': 'app-card-patient-data'},{'name': 'CardTableComponent', 'selector': 'app-card-table'},{'name': 'CardTmplComponent', 'selector': 'app-card-tmpl'},{'name': 'ConfirmationComponent', 'selector': 'app-confirmation'},{'name': 'ContentComponent', 'selector': 'app-content'},{'name': 'EditCaseComponent', 'selector': 'edit'},{'name': 'FetchcaseComponent', 'selector': 'app-fetchcase'},{'name': 'FooterComponent', 'selector': 'footer-cmp'},{'name': 'FrontpageComponent', 'selector': 'frontpage'},{'name': 'HeaderComponent', 'selector': 'header-cmp'},{'name': 'Page2Component', 'selector': 'page2'},{'name': 'PageComponent', 'selector': 'page'},{'name': 'SummaryComponent', 'selector': 'app-summary'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'CardImageComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'CardImageComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
